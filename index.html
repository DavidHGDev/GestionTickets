<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesti√≥n Tickets PRO</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="card-container">
    
    <nav class="top-toolbar">
        <a href="templates.html" class="tool-btn" target="_blank">üìã Plantillas</a>
        <a href="data.html" class="tool-btn" target="_blank">üìä Historial</a>
        <button class="tool-btn" id="btn_clear_data" title="Borrar DB Local">üóëÔ∏è Borrar DB</button>
        <button class="tool-btn" id="btn_import_data">üì• Importar</button>
        <input type="file" id="file_selector" style="display: none;" accept=".json">
    </nav>

    <div class="row col-2">
        <div class="floating-group">
            <input type="text" id="call_id" placeholder=" " autocomplete="off">
            <label>ID Llamada</label>
        </div>
        <div class="floating-group">
            <input type="text" id="customer_name" placeholder=" " autocomplete="off">
            <label>Nombre Cliente</label>
        </div>
    </div>

    <div class="row col-3">
        <div class="floating-group">
            <input type="number" id="customer_doc" placeholder=" " autocomplete="off">
            <label>Documento</label>
        </div>
        <div class="floating-group">
            <input type="tel" id="customer_phone" placeholder=" " autocomplete="off">
            <label>Tel√©fono</label>
        </div>
        <div class="floating-group">
            <input type="text" id="prueba_smnet" placeholder=" " autocomplete="off">
            <label>SMNET Int.</label>
        </div>
    </div>

    <div class="row col-3">
        <div class="floating-group">
            <input type="text" id="smnet_unitaria" placeholder=" " autocomplete="off">
            <label>SMNET Unit.</label>
        </div>
        
        <div class="input-wrapper">
            <div class="floating-group">
                <input type="text" id="tech_input" list="tech_options" placeholder=" " autocomplete="off">
                <label>Tecnolog√≠a</label>
                <datalist id="tech_options"></datalist> 
            </div>
            <button class="clear-btn" tabindex="-1">‚úï</button>
        </div>
        
        <div class="input-wrapper">
            <div class="floating-group">
                <input type="text" id="prod_input" list="prod_options" placeholder=" " autocomplete="off">
                <label>Producto</label>
                <datalist id="prod_options"></datalist> 
            </div>
            <button class="clear-btn" tabindex="-1">‚úï</button>
        </div>
    </div>

    <div id="panel_internet" class="dynamic-panel">
        <div class="floating-group" style="margin-top:10px;">
            <input type="text" id="soporte_velocidad" list="yes_no_options" value="Si" placeholder=" " autocomplete="off">
            <label>¬øEquipo Soporta Velocidad?</label>
            <datalist id="yes_no_options"><option value="Si"><option value="No"></datalist>
        </div>
    </div>

    <div id="panel_tv" class="dynamic-panel tv-panel">
        <div class="floating-group" style="width: 120px; margin-top:10px;">
            <input type="number" id="tv_quantity" min="0" max="10" placeholder=" " autocomplete="off">
            <label>Cant. TVs</label>
        </div>
        <div id="tv_serials_container" class="tv-grid"></div>
    </div>

    <div class="row col-3">
        <div class="input-wrapper">
            <div class="floating-group">
                <input type="text" id="fail_input" list="fail_options" placeholder=" " autocomplete="off">
                <label>Dolor Puntual</label>
                <datalist id="fail_options"></datalist> 
            </div>
            <button class="clear-btn" tabindex="-1">‚úï</button>
        </div>

        <div class="floating-group">
            <input type="text" id="horario_falla" list="horario_options" placeholder=" " autocomplete="off">
            <label>Horario Falla</label>
            <datalist id="horario_options">
                <option value="Ma√±ana (06-12)">
                <option value="Tarde (12-18)">
                <option value="Noche (18-22)">
                <option value="Todo el d√≠a">
            </datalist>
        </div>

        <div class="check-simple" onclick="document.getElementById('check_portal_cautivo').click()">
            <input type="checkbox" id="check_portal_cautivo">
            <label for="check_portal_cautivo" style="cursor:pointer; width:100%;">Portal Cautivo OK</label>
        </div>
    </div>

    <div class="floating-group">
        <textarea id="observaciones" placeholder=" " spellcheck="true"></textarea>
        <label>Observaciones</label>
    </div>

    <div class="b2b-section">
        <div class="b2b-header">
            <span>üè¢ Gesti√≥n B2B</span>
            <div class="radio-group">
                <label><input type="radio" name="b2b_option" value="no" checked> No</label>
                <label><input type="radio" name="b2b_option" value="si"> Si</label>
            </div>
        </div>

        <div id="b2b_panel" class="dynamic-panel" style="background: white; border-style: solid;">
            
            <div class="row col-2" style="margin-top:10px;">
                <div class="floating-group">
                    <input type="text" id="b2b_contact" placeholder=" " autocomplete="off">
                    <label>Nombre quien atiende</label>
                </div>
                <div class="floating-group">
                    <input type="tel" id="b2b_phone" placeholder=" " autocomplete="off">
                    <label>Celular</label>
                </div>
            </div>

            <div class="row">
                <div class="floating-group">
                    <input type="text" id="b2b_days" list="dias_options" placeholder=" " autocomplete="off">
                    <label>D√≠as Atenci√≥n</label>
                    <datalist id="dias_options">
                        <option value="Lunes a Viernes">
                        <option value="Lunes a S√°bado">
                        <option value="Domingo a Domingo">
                    </datalist>
                </div>
            </div>
            
            <datalist id="list_horas_b2b">
                <option value="06:00 A.M."><option value="07:00 A.M."><option value="08:00 A.M.">
                <option value="09:00 A.M."><option value="10:00 A.M."><option value="11:00 A.M.">
                <option value="12:00 P.M."><option value="01:00 P.M."><option value="02:00 P.M.">
                <option value="03:00 P.M."><option value="04:00 P.M."><option value="05:00 P.M.">
                <option value="06:00 P.M."><option value="07:00 P.M."><option value="08:00 P.M.">
            </datalist>

            <div class="row col-2">
                <div class="floating-group input-compact">
                    <input type="text" id="b2b_start" list="list_horas_b2b" placeholder=" " autocomplete="off">
                    <label>Hora Inicio</label>
                </div>
                <div class="floating-group input-compact">
                    <input type="text" id="b2b_end" list="list_horas_b2b" placeholder=" " autocomplete="off">
                    <label>Hora Fin</label>
                </div>
            </div>

            <div id="b2b_sat_panel" class="b2b-subpanel hidden">
                <div class="check-row">
                    <input type="checkbox" id="check_sat_diff">
                    <label for="check_sat_diff">¬øS√°bado Diferente?</label>
                </div>
                <div id="sat_inputs" class="row col-2 hidden" style="margin-top:8px;">
                    <div class="floating-group input-compact"><input type="text" id="b2b_sat_start" list="list_horas_b2b" placeholder=" "><label>Inicio S√°b</label></div>
                    <div class="floating-group input-compact"><input type="text" id="b2b_sat_end" list="list_horas_b2b" placeholder=" "><label>Fin S√°b</label></div>
                </div>
            </div>

            <div id="b2b_sun_panel" class="b2b-subpanel hidden">
                <div class="check-row">
                    <input type="checkbox" id="check_sun_diff">
                    <label for="check_sun_diff">¬øDomingo Diferente?</label>
                </div>
                <div id="sun_inputs" class="row col-2 hidden" style="margin-top:8px;">
                    <div class="floating-group input-compact"><input type="text" id="b2b_sun_start" list="list_horas_b2b" placeholder=" "><label>Inicio Dom</label></div>
                    <div class="floating-group input-compact"><input type="text" id="b2b_sun_end" list="list_horas_b2b" placeholder=" "><label>Fin Dom</label></div>
                </div>
            </div>

            <div class="b2b-subpanel">
                <div class="check-row">
                    <span style="font-weight:600; margin-right:10px;">¬øRequiere Permiso?</span>
                    <label><input type="radio" name="permiso_opt" value="no" checked> No</label>
                    <label><input type="radio" name="permiso_opt" value="si"> Si</label>
                </div>
                <div id="permiso_input_panel" class="floating-group hidden" style="margin-top:8px;">
                    <input type="text" id="b2b_permiso_txt" placeholder=" ">
                    <label>¬øQu√© documento requiere?</label>
                </div>
            </div>
        </div>
    </div>

    <div class="management-row">
        <label class="toggle-btn" id="btn_toggle_notif">
            <input type="checkbox" id="check_notif_db">
            <span>üì© Notif. Confirmada</span>
        </label>
        <label class="toggle-btn" id="btn_toggle_venta">
            <input type="checkbox" id="check_venta_db">
            <span>üí∞ Ofrec√≠ Venta</span>
        </label>
    </div>

    <div class="actions">
        <button id="btn_copy">üìã Copiar Datos</button>
        <button id="btn_reset">üíæ Guardar / Reset</button>
    </div>

    <div class="key-bar">
        <button class="btn-key" id="btn_key_elite">Elite</button>
        <button class="btn-key" id="btn_key_fenix">Fenix</button>
        <button class="btn-key" id="btn_key_red">Red</button>
        <button class="btn-key" id="btn_key_wts">Wts</button>
        <button class="btn-key mod" id="btn_key_mod">‚öôÔ∏è</button>
        <button class="btn-key mod" id="btn_key_refres">‚è±Ô∏è</button>
    </div>

    <div id="timer_panel" class="timer-panel hidden">
        <div>Total: <span id="display_total">00:00</span></div>
        <div>Aviso: <span id="display_countdown">00:00</span></div>
    </div>
    <div class="stats-container">
        <div class="stat-card">
            <span class="stat-label">AHT Diario</span>
            <span class="stat-value" id="aht_daily_display">0s / 0.0m</span>
        </div>
        <div class="stat-card">
            <span class="stat-label">AHT Mensual</span>
            <span class="stat-value" id="aht_monthly_display">0s / 0.0m</span>
        </div>
    </div>
</div>

<div id="modal_claves" class="modal-overlay hidden">
    <div class="modal-content">
        <h3 style="margin-bottom:15px; color:#1e3a8a;">Configurar Claves</h3>
        <div class="form-group-modal">
            <label>Elite</label>
            <input type="text" id="edit_key_elite">
        </div>
        <div class="form-group-modal">
            <label>Fenix</label>
            <input type="text" id="edit_key_fenix">
        </div>
        <div class="form-group-modal">
            <label>Red</label>
            <input type="text" id="edit_key_red">
        </div>
        <div class="form-group-modal">
            <label>WhatsApp (Wts)</label>
            <input type="text" id="edit_key_wts">
        </div>
        <div class="modal-actions">
            <button id="btn_cancelar_modal" class="btn-key">Cancelar</button>
            <button id="btn_guardar_modal" class="btn-key" style="background:#dcfce7; border-color:#86efac; color:#166534;">Guardar</button>
        </div>
    </div>
</div>

<script src="js/db.js"></script> 
<script src="js/app.js"></script>
</body>
</html>