<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Centro de Datos - Tickets PRO</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dashboard.css">
</head>
<body style="background-color: #f1f5f9;">

    <div class="dashboard-wrapper">
        <div class="dash-header">
            <h1 class="dash-title">üìä Centro de Control de Datos</h1>
            <button id="btn_back_home" class="btn-back-home">‚¨Ö Volver al Formulario</button>
        </div>

        <div class="filter-container">
            <div class="floating-group">
                <input type="text" id="txt_search" placeholder=" " autocomplete="off">
                <label>üîç Buscar por ID, Cliente o C√©dula</label>
            </div>
            <div class="floating-group">
                <input type="number" id="num_limit" value="50" min="1" placeholder=" ">
                <label>Cant. Registros</label>
            </div>

            <button class="tool-btn" id="btn_refresh" style="height: 48px; background: white; border: 1px solid #cbd5e1;">üîÑ Recargar</button>
            <button class="tool-btn" id="btn_export_dash" style="height: 48px; background: white; border: 1px solid #cbd5e1;">üì• Exportar CSV</button>
            <button class="tool-btn" id="btn_export_json" style="height: 48px; background: #f8fafc; border: 1px solid #2563eb; color: #2563eb;">üì¶ Respaldar JSON</button>
        </div>

        <div class="table-responsive">
            <table class="modern-table" id="tabla_registros">
                <thead>
                    <tr>
                        <th style="text-align: center; width: 90px;">Acciones</th>
                        <th>Fecha</th>
                        <th>ID Llamada</th>
                        <th>Cliente</th>
                        <th>Celular</th>
                        <th>SMNET Unit</th>
                        <th>Horario Falla</th>
                        <th>Sop. Vel</th>
                        <th>Tecnolog√≠a</th>
                        <th>Falla</th>
                        <th>Duraci√≥n</th>
                    </tr>
                </thead>
                <tbody id="dashboard_body"></tbody>
            </table>
            <div id="no_results" style="padding: 40px; text-align: center; color: #64748b; display: none;">
                <p style="font-size: 1.2rem;">üì≠ No se encontraron registros.</p>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="modal_edicion">
        <div class="edit-card">
            <div class="edit-header">
                <h3 style="margin:0; color:#1e3a8a;">‚úèÔ∏è Editar Registro</h3>
                <button id="btn_close_modal_x" style="background:none; border:none; font-size:1.5rem; cursor:pointer; color: #64748b;">&times;</button>
            </div>

            <div class="modal-grid">
                <input type="hidden" id="edit_id_unico">

                <div class="floating-group">
                    <input type="text" id="edit_call_id" placeholder=" ">
                    <label>ID Llamada</label>
                </div>
                <div class="floating-group">
                    <input type="text" id="edit_cliente" placeholder=" ">
                    <label>Nombre Cliente</label>
                </div>
                <div class="floating-group">
                    <input type="text" id="edit_celular" placeholder=" ">
                    <label>Celular</label>
                </div>
                <div class="floating-group">
                    <input type="text" id="edit_cedula" placeholder=" ">
                    <label>C√©dula</label>
                </div>

                <div class="floating-group">
                    <input type="text" id="edit_smnet_uni" placeholder=" ">
                    <label>SMNET Unitaria</label>
                </div>
                <div class="floating-group">
                    <input type="text" id="edit_horario" placeholder=" ">
                    <label>Horario Falla</label>
                </div>
                <div class="floating-group">
                    <input type="text" id="edit_soporte" placeholder=" ">
                    <label>Soporta Velocidad</label>
                </div>
                <div class="floating-group">
                    <input type="text" id="edit_tec" placeholder=" ">
                    <label>Tecnolog√≠a</label>
                </div>
                <div class="floating-group">
                    <input type="text" id="edit_falla" placeholder=" ">
                    <label>Falla</label>
                </div>
                
                <div class="floating-group">
                    <input type="number" id="edit_duracion" placeholder=" " step="0.01">
                    <label>‚è±Ô∏è Duraci√≥n (Seg)</label>
                </div>
                
                <div class="floating-group modal-full">
                    <textarea id="edit_obs" placeholder=" "></textarea>
                    <label>Observaciones</label>
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn-modal-cancel" id="btn_cancel_edit">Cancelar</button>
                <button class="btn-modal-save" id="btn_save_edit">üíæ Guardar Cambios</button>
            </div>
        </div>
    </div>

    <div id="toast" class="toast">‚úÖ Acci√≥n realizada</div>

    <script src="js/db.js"></script>
    <script src="js/dashboard.js"></script>
</body>
</html>